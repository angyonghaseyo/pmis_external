{"ast":null,"code":"import axios from 'axios';\nimport { auth } from '../firebaseConfig';\nconst API_URL = 'http://localhost:5000/api';\nconst authAxios = axios.create({\n  baseURL: API_URL\n});\nauthAxios.interceptors.request.use(async config => {\n  var _auth$currentUser;\n  const token = await ((_auth$currentUser = auth.currentUser) === null || _auth$currentUser === void 0 ? void 0 : _auth$currentUser.getIdToken());\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Error handling helper\nconst handleApiError = error => {\n  console.error('API Error:', error.response ? error.response.data : error.message);\n  throw error;\n};\n\n// Authentication\nexport const loginUser = (email, password) => auth.signInWithEmailAndPassword(email, password).catch(handleApiError);\nexport const registerUser = (email, password, userData) => auth.createUserWithEmailAndPassword(email, password).then(async userCredential => {\n  await authAxios.post('/users', {\n    ...userData,\n    uid: userCredential.user.uid\n  });\n  return userCredential;\n}).catch(handleApiError);\nexport const logoutUser = () => auth.signOut().catch(handleApiError);\n\n// User management\nexport const getCurrentUser = () => auth.currentUser;\nexport const updateUserProfile = userData => authAxios.put(`/users/${auth.currentUser.uid}`, userData).catch(handleApiError);\nexport const updateUserPassword = newPassword => auth.currentUser.updatePassword(newPassword).catch(handleApiError);\n\n// Resources\nexport const getResources = () => authAxios.get('/resources').catch(handleApiError);\n\n// User Account Management\nexport const getUsers = () => authAxios.get('/users').catch(handleApiError);\nexport const createUser = userData => authAxios.post('/users', userData).catch(handleApiError);\nexport const updateUser = (userId, userData) => authAxios.put(`/users/${userId}`, userData).catch(handleApiError);\nexport const deleteUser = userId => authAxios.delete(`/users/${userId}`).catch(handleApiError);\n\n// Dashboard data\nexport const getLeaveStatistics = () => authAxios.get('/leave-statistics').catch(handleApiError);\nexport const getTimeLog = () => authAxios.get('/time-log').catch(handleApiError);\nexport const getServiceOperations = () => authAxios.get('/service-operations').catch(handleApiError);\n\n// Assets and Facilities\nexport const getAssets = () => authAxios.get('/assets').catch(handleApiError);\nexport const getFacilities = () => authAxios.get('/facilities').catch(handleApiError);\n\n// Manpower\nexport const getEmployees = () => authAxios.get('/employees').catch(handleApiError);\nexport const updateEmployee = (employeeId, data) => authAxios.put(`/employees/${employeeId}`, data).catch(handleApiError);\n\n// Vessel Visits\nexport const getVesselVisits = () => authAxios.get('/vessel-visits').catch(handleApiError);\nexport const createVesselVisit = visitData => authAxios.post('/vessel-visits', visitData).catch(handleApiError);\nexport const updateVesselVisit = (visitId, visitData) => authAxios.put(`/vessel-visits/${visitId}`, visitData).catch(handleApiError);\n\n// Port Operations\nexport const getPortOperations = () => authAxios.get('/port-operations').catch(handleApiError);\nexport const createPortOperation = operationData => authAxios.post('/port-operations', operationData).catch(handleApiError);\n\n// Cargos\nexport const getCargos = () => authAxios.get('/cargos').catch(handleApiError);\nexport const createCargo = cargoData => authAxios.post('/cargos', cargoData).catch(handleApiError);\nexport const updateCargo = (cargoId, cargoData) => authAxios.put(`/cargos/${cargoId}`, cargoData).catch(handleApiError);\n\n// Financial\nexport const getFinancialReports = () => authAxios.get('/financial-reports').catch(handleApiError);\nexport const createInvoice = invoiceData => authAxios.post('/invoices', invoiceData).catch(handleApiError);\n\n// Customs and Trade Documents\nexport const getCustomsDocuments = () => authAxios.get('/customs-documents').catch(handleApiError);\nexport const submitCustomsDocument = documentData => authAxios.post('/customs-documents', documentData).catch(handleApiError);\n\n// Settings\nexport const getUserSettings = () => authAxios.get('/user-settings').catch(handleApiError);\nexport const updateUserSettings = settingsData => authAxios.put('/user-settings', settingsData).catch(handleApiError);\nexport default {\n  loginUser,\n  registerUser,\n  logoutUser,\n  getCurrentUser,\n  updateUserProfile,\n  updateUserPassword,\n  getResources,\n  getUsers,\n  createUser,\n  updateUser,\n  deleteUser,\n  getLeaveStatistics,\n  getTimeLog,\n  getServiceOperations,\n  getAssets,\n  getFacilities,\n  getEmployees,\n  updateEmployee,\n  getVesselVisits,\n  createVesselVisit,\n  updateVesselVisit,\n  getPortOperations,\n  createPortOperation,\n  getCargos,\n  createCargo,\n  updateCargo,\n  getFinancialReports,\n  createInvoice,\n  getCustomsDocuments,\n  submitCustomsDocument,\n  getUserSettings,\n  updateUserSettings\n};","map":{"version":3,"names":["axios","auth","API_URL","authAxios","create","baseURL","interceptors","request","use","config","_auth$currentUser","token","currentUser","getIdToken","headers","Authorization","handleApiError","error","console","response","data","message","loginUser","email","password","signInWithEmailAndPassword","catch","registerUser","userData","createUserWithEmailAndPassword","then","userCredential","post","uid","user","logoutUser","signOut","getCurrentUser","updateUserProfile","put","updateUserPassword","newPassword","updatePassword","getResources","get","getUsers","createUser","updateUser","userId","deleteUser","delete","getLeaveStatistics","getTimeLog","getServiceOperations","getAssets","getFacilities","getEmployees","updateEmployee","employeeId","getVesselVisits","createVesselVisit","visitData","updateVesselVisit","visitId","getPortOperations","createPortOperation","operationData","getCargos","createCargo","cargoData","updateCargo","cargoId","getFinancialReports","createInvoice","invoiceData","getCustomsDocuments","submitCustomsDocument","documentData","getUserSettings","updateUserSettings","settingsData"],"sources":["/Users/chiaangyong/Desktop/IS4103/pmis_external/client/src/services/api.js"],"sourcesContent":["import axios from 'axios';\nimport { auth } from '../firebaseConfig';\n\nconst API_URL = 'http://localhost:5000/api';\n\nconst authAxios = axios.create({\n  baseURL: API_URL,\n});\n\nauthAxios.interceptors.request.use(async (config) => {\n  const token = await auth.currentUser?.getIdToken();\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Error handling helper\nconst handleApiError = (error) => {\n  console.error('API Error:', error.response ? error.response.data : error.message);\n  throw error;\n};\n\n// Authentication\nexport const loginUser = (email, password) =>\n  auth.signInWithEmailAndPassword(email, password).catch(handleApiError);\n\nexport const registerUser = (email, password, userData) =>\n  auth.createUserWithEmailAndPassword(email, password)\n    .then(async (userCredential) => {\n      await authAxios.post('/users', { ...userData, uid: userCredential.user.uid });\n      return userCredential;\n    })\n    .catch(handleApiError);\n\nexport const logoutUser = () => auth.signOut().catch(handleApiError);\n\n// User management\nexport const getCurrentUser = () => auth.currentUser;\n\nexport const updateUserProfile = (userData) =>\n  authAxios.put(`/users/${auth.currentUser.uid}`, userData).catch(handleApiError);\n\nexport const updateUserPassword = (newPassword) =>\n  auth.currentUser.updatePassword(newPassword).catch(handleApiError);\n\n// Resources\nexport const getResources = () => authAxios.get('/resources').catch(handleApiError);\n\n// User Account Management\nexport const getUsers = () => authAxios.get('/users').catch(handleApiError);\n\nexport const createUser = (userData) => authAxios.post('/users', userData).catch(handleApiError);\n\nexport const updateUser = (userId, userData) =>\n  authAxios.put(`/users/${userId}`, userData).catch(handleApiError);\n\nexport const deleteUser = (userId) => authAxios.delete(`/users/${userId}`).catch(handleApiError);\n\n// Dashboard data\nexport const getLeaveStatistics = () => authAxios.get('/leave-statistics').catch(handleApiError);\n\nexport const getTimeLog = () => authAxios.get('/time-log').catch(handleApiError);\n\nexport const getServiceOperations = () => authAxios.get('/service-operations').catch(handleApiError);\n\n// Assets and Facilities\nexport const getAssets = () => authAxios.get('/assets').catch(handleApiError);\n\nexport const getFacilities = () => authAxios.get('/facilities').catch(handleApiError);\n\n// Manpower\nexport const getEmployees = () => authAxios.get('/employees').catch(handleApiError);\n\nexport const updateEmployee = (employeeId, data) =>\n  authAxios.put(`/employees/${employeeId}`, data).catch(handleApiError);\n\n// Vessel Visits\nexport const getVesselVisits = () => authAxios.get('/vessel-visits').catch(handleApiError);\n\nexport const createVesselVisit = (visitData) =>\n  authAxios.post('/vessel-visits', visitData).catch(handleApiError);\n\nexport const updateVesselVisit = (visitId, visitData) =>\n  authAxios.put(`/vessel-visits/${visitId}`, visitData).catch(handleApiError);\n\n// Port Operations\nexport const getPortOperations = () => authAxios.get('/port-operations').catch(handleApiError);\n\nexport const createPortOperation = (operationData) =>\n  authAxios.post('/port-operations', operationData).catch(handleApiError);\n\n// Cargos\nexport const getCargos = () => authAxios.get('/cargos').catch(handleApiError);\n\nexport const createCargo = (cargoData) => authAxios.post('/cargos', cargoData).catch(handleApiError);\n\nexport const updateCargo = (cargoId, cargoData) =>\n  authAxios.put(`/cargos/${cargoId}`, cargoData).catch(handleApiError);\n\n// Financial\nexport const getFinancialReports = () => authAxios.get('/financial-reports').catch(handleApiError);\n\nexport const createInvoice = (invoiceData) =>\n  authAxios.post('/invoices', invoiceData).catch(handleApiError);\n\n// Customs and Trade Documents\nexport const getCustomsDocuments = () => authAxios.get('/customs-documents').catch(handleApiError);\n\nexport const submitCustomsDocument = (documentData) =>\n  authAxios.post('/customs-documents', documentData).catch(handleApiError);\n\n// Settings\nexport const getUserSettings = () => authAxios.get('/user-settings').catch(handleApiError);\n\nexport const updateUserSettings = (settingsData) =>\n  authAxios.put('/user-settings', settingsData).catch(handleApiError);\n\nexport default {\n  loginUser,\n  registerUser,\n  logoutUser,\n  getCurrentUser,\n  updateUserProfile,\n  updateUserPassword,\n  getResources,\n  getUsers,\n  createUser,\n  updateUser,\n  deleteUser,\n  getLeaveStatistics,\n  getTimeLog,\n  getServiceOperations,\n  getAssets,\n  getFacilities,\n  getEmployees,\n  updateEmployee,\n  getVesselVisits,\n  createVesselVisit,\n  updateVesselVisit,\n  getPortOperations,\n  createPortOperation,\n  getCargos,\n  createCargo,\n  updateCargo,\n  getFinancialReports,\n  createInvoice,\n  getCustomsDocuments,\n  submitCustomsDocument,\n  getUserSettings,\n  updateUserSettings,\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}